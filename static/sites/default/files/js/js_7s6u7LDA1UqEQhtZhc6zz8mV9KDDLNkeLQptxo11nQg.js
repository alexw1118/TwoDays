(function(_,$,Drupal,drupalSettings){'use strict';var Bootstrap={processedOnce:{},settings:drupalSettings.bootstrap||{}};Bootstrap.checkPlain=function(str){return str&&Drupal.checkPlain(str)||'';};Bootstrap.createPlugin=function(id,plugin,noConflict){if($.fn[id]!==void 0){return this.fatal('Specified jQuery plugin identifier already exists: @id. Use Drupal.bootstrap.replacePlugin() instead.',{'@id':id});}
if(typeof plugin!=='function'){return this.fatal('You must provide a constructor function to create a jQuery plugin "@id": @plugin',{'@id':id,'@plugin':plugin});}
this.pluginNoConflict(id,plugin,noConflict);$.fn[id]=plugin;};Bootstrap.diffObjects=function(objects){var args=Array.prototype.slice.call(arguments);return _.pick(args[0],_.difference.apply(_,_.map(args,function(obj){return Object.keys(obj);})));};Bootstrap.eventMap={Event:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvent:/^(?:click|dblclick|mouse(?:down|enter|leave|up|over|move|out))$/,KeyboardEvent:/^(?:key(?:down|press|up))$/,TouchEvent:/^(?:touch(?:start|end|move|cancel))$/};Bootstrap.extendPlugin=function(id,callback){if(typeof $.fn[id]!=='function'){return this.fatal('Specified jQuery plugin identifier does not exist: @id',{'@id':id});}
if(typeof callback!=='function'){return this.fatal('You must provide a callback function to extend the jQuery plugin "@id": @callback',{'@id':id,'@callback':callback});}
var constructor=$.fn[id]&&$.fn[id].Constructor||$.fn[id];var plugin=callback.apply(constructor,[this.settings]);if(!$.isPlainObject(plugin)){return this.fatal('Returned value from callback is not a plain object that can be used to extend the jQuery plugin "@id": @obj',{'@obj':plugin});}
this.wrapPluginConstructor(constructor,plugin,true);return $.fn[id];};Bootstrap.superWrapper=function(parent,fn){return function(){var previousSuper=this.super;this.super=parent;var ret=fn.apply(this,arguments);if(previousSuper){this.super=previousSuper;}
else{delete this.super;}
return ret;};};Bootstrap.fatal=function(message,args){if(this.settings.dev&&console.warn){for(var name in args){if(args.hasOwnProperty(name)&&typeof args[name]==='object'){args[name]=JSON.stringify(args[name]);}}
Drupal.throwError(new Error(Drupal.formatString(message,args)));}
return false;};Bootstrap.intersectObjects=function(objects){var args=Array.prototype.slice.call(arguments);return _.pick(args[0],_.intersection.apply(_,_.map(args,function(obj){return Object.keys(obj);})));};Bootstrap.normalizeObject=function(obj){if(!$.isPlainObject(obj)){return obj;}
for(var k in obj){if(typeof obj[k]==='string'){if(obj[k]==='true'){obj[k]=true;}
else if(obj[k]==='false'){obj[k]=false;}
else if(obj[k].match(/^[\d-.]$/)){obj[k]=parseFloat(obj[k]);}}
else if($.isPlainObject(obj[k])){obj[k]=Bootstrap.normalizeObject(obj[k]);}}
return obj;};Bootstrap.once=function(id,callback){if(this.processedOnce[id]){return this;}
callback.call(this,this.settings);this.processedOnce[id]=true;return this;};Bootstrap.option=function(key,value){var options=$.isPlainObject(key)?$.extend({},key):{};if(arguments.length===0){return $.extend({},this.options);}
if(typeof key==="string"){var parts=key.split('.');key=parts.shift();var obj=options;if(parts.length){for(var i=0;i<parts.length-1;i++){obj[parts[i]]=obj[parts[i]]||{};obj=obj[parts[i]];}
key=parts.pop();}
if(arguments.length===1){return obj[key]===void 0?null:obj[key];}
obj[key]=value;}
$.extend(true,this.options,options);};Bootstrap.pluginNoConflict=function(id,plugin,noConflict){if(plugin.noConflict===void 0&&(noConflict===void 0||noConflict)){var old=$.fn[id];plugin.noConflict=function(){$.fn[id]=old;return this;};}};Bootstrap.replacePlugin=function(id,callback,noConflict){if(typeof $.fn[id]!=='function'){return this.fatal('Specified jQuery plugin identifier does not exist: @id',{'@id':id});}
if(typeof callback!=='function'){return this.fatal('You must provide a valid callback function to replace a jQuery plugin: @callback',{'@callback':callback});}
var constructor=$.fn[id]&&$.fn[id].Constructor||$.fn[id];var plugin=callback.apply(constructor,[this.settings]);if(typeof plugin!=='function'){return this.fatal('Returned value from callback is not a usable function to replace a jQuery plugin "@id": @plugin',{'@id':id,'@plugin':plugin});}
this.wrapPluginConstructor(constructor,plugin);this.pluginNoConflict(id,plugin,noConflict);$.fn[id]=plugin;};Bootstrap.simulate=function(element,type,options){var ret=true;if(element instanceof $){element.each(function(){if(!Bootstrap.simulate(this,type,options)){ret=false;}});return ret;}
if(!(element instanceof HTMLElement)){this.fatal('Passed element must be an instance of HTMLElement, got "@type" instead.',{'@type':typeof element,});}
if(typeof $.simulate==='function'){new $.simulate(element,type,options);return true;}
var event;var ctor;var types=[].concat(type);for(var i=0,l=types.length;i<l;i++){type=types[i];for(var name in this.eventMap){if(this.eventMap[name].test(type)){ctor=name;break;}}
if(!ctor){throw new SyntaxError('Only rudimentary HTMLEvents, KeyboardEvents and MouseEvents are supported: '+type);}
var opts={bubbles:true,cancelable:true};if(ctor==='KeyboardEvent'||ctor==='MouseEvent'){$.extend(opts,{ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1});}
if(ctor==='MouseEvent'){$.extend(opts,{button:0,pointerX:0,pointerY:0,view:window});}
if(options){$.extend(opts,options);}
if(typeof window[ctor]==='function'){event=new window[ctor](type,opts);if(!element.dispatchEvent(event)){ret=false;}}
else if(document.createEvent){event=document.createEvent(ctor);event.initEvent(type,opts.bubbles,opts.cancelable);if(!element.dispatchEvent(event)){ret=false;}}
else if(typeof element.fireEvent==='function'){event=$.extend(document.createEventObject(),opts);if(!element.fireEvent('on'+type,event)){ret=false;}}
else if(typeof element[type]){element[type]();}}
return ret;};Bootstrap.stripHtml=function(html){if(html instanceof $){html=html.html();}
else if(html instanceof Element){html=html.innerHTML;}
var tmp=document.createElement('DIV');tmp.innerHTML=html;return(tmp.textContent||tmp.innerText||'').replace(/^[\s\n\t]*|[\s\n\t]*$/,'');};Bootstrap.unsupported=function(type,name,value){Bootstrap.warn('Unsupported by Drupal Bootstrap: (@type) @name -> @value',{'@type':type,'@name':name,'@value':typeof value==='object'?JSON.stringify(value):value});};Bootstrap.warn=function(message,args){if(this.settings.dev&&console.warn){console.warn(Drupal.formatString(message,args));}};Bootstrap.wrapPluginConstructor=function(constructor,plugin,extend){var proto=constructor.prototype;var option=this.option;if(proto.option===void(0)){proto.option=function(){return option.apply(this,arguments);};}
if(extend){if(plugin.prototype!==void 0){for(var key in plugin.prototype){if(!plugin.prototype.hasOwnProperty(key))continue;var value=plugin.prototype[key];if(typeof value==='function'){proto[key]=this.superWrapper(proto[key]||function(){},value);}
else{proto[key]=$.isPlainObject(value)?$.extend(true,{},proto[key],value):value;}}}
delete plugin.prototype;for(key in plugin){if(!plugin.hasOwnProperty(key))continue;value=plugin[key];if(typeof value==='function'){constructor[key]=this.superWrapper(constructor[key]||function(){},value);}
else{constructor[key]=$.isPlainObject(value)?$.extend(true,{},constructor[key],value):value;}}}};Drupal.bootstrap=Drupal.bootstrap||Bootstrap;})(window._,window.jQuery,window.Drupal,window.drupalSettings);;(function($,_){var Attributes=function(attributes){this.data={};this.data['class']=[];this.merge(attributes);};Attributes.prototype.toString=function(){var output='';var name,value;var checkPlain=function(str){return str&&str.toString().replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;')||'';};var data=this.getData();for(name in data){if(!data.hasOwnProperty(name))continue;value=data[name];if(_.isFunction(value))value=value();if(_.isObject(value))value=_.values(value);if(_.isArray(value))value=value.join(' ');output+=' '+checkPlain(name)+'="'+checkPlain(value)+'"';}
return output;};Attributes.prototype.toPlainObject=function(){var object={};var name,value;var data=this.getData();for(name in data){if(!data.hasOwnProperty(name))continue;value=data[name];if(_.isFunction(value))value=value();if(_.isObject(value))value=_.values(value);if(_.isArray(value))value=value.join(' ');object[name]=value;}
return object;};Attributes.prototype.addClass=function(value){var args=Array.prototype.slice.call(arguments);this.data['class']=this.sanitizeClasses(this.data['class'].concat(args));return this;};Attributes.prototype.exists=function(name){return this.data[name]!==void(0)&&this.data[name]!==null;};Attributes.prototype.get=function(name,defaultValue){if(!this.exists(name))this.data[name]=defaultValue;return this.data[name];};Attributes.prototype.getData=function(){return _.extend({},this.data);};Attributes.prototype.getClasses=function(){return this.get('class',[]);};Attributes.prototype.hasClass=function(className){className=this.sanitizeClasses(Array.prototype.slice.call(arguments));var classes=this.getClasses();for(var i=0,l=className.length;i<l;i++){if(_.indexOf(classes,className[i])===-1){return false;}}
return true;};Attributes.prototype.merge=function(object,recursive){if(!object){return this;}
if(object instanceof $){object=object[0];}
if(object instanceof Node){object=Array.prototype.slice.call(object.attributes).reduce(function(attributes,attribute){attributes[attribute.name]=attribute.value;return attributes;},{});}
else if(object instanceof Attributes){object=object.getData();}
else{object=_.extend({},object);}
if(!$.isPlainObject(object)){setTimeout(function(){throw new Error('Passed object is not supported: '+object);});return this;}
if(object&&object['class']!==void 0){this.addClass(object['class']);delete object['class'];}
if(recursive===void 0||recursive){this.data=$.extend(true,{},this.data,object);}
else{this.data=$.extend({},this.data,object);}
return this;};Attributes.prototype.remove=function(name){if(this.exists(name))delete this.data[name];return this;};Attributes.prototype.removeClass=function(className){var remove=this.sanitizeClasses(Array.prototype.slice.apply(arguments));this.data['class']=_.without(this.getClasses(),remove);return this;};Attributes.prototype.replaceClass=function(oldValue,newValue){var classes=this.getClasses();var i=_.indexOf(this.sanitizeClasses(oldValue),classes);if(i>=0){classes[i]=newValue;this.set('class',classes);}
return this;};Attributes.prototype.sanitizeClasses=function(classes){return _.chain(Array.prototype.slice.call(arguments)).flatten().map(function(string){return string.split(' ');}).flatten().filter().map(function(value){return Attributes.cleanClass(value);}).uniq().value();};Attributes.prototype.set=function(name,value){var obj=$.isPlainObject(name)?name:{};if(typeof name==='string'){obj[name]=value;}
return this.merge(obj);};Attributes.cleanClass=function(identifier,filter){filter=filter||{' ':'-','_':'-','/':'-','[':'-',']':''};identifier=identifier.toLowerCase();if(filter['__']===void 0){identifier=identifier.replace('__','#DOUBLE_UNDERSCORE#');}
identifier=identifier.replace(Object.keys(filter),Object.keys(filter).map(function(key){return filter[key];}));if(filter['__']===void 0){identifier=identifier.replace('#DOUBLE_UNDERSCORE#','__');}
identifier=identifier.replace(/[^\u002D\u0030-\u0039\u0041-\u005A\u005F\u0061-\u007A\u00A1-\uFFFF]/g,'');identifier=identifier.replace(['/^[0-9]/','/^(-[0-9])|^(--)/'],['_','__']);return identifier;};Attributes.create=function(attributes){return new Attributes(attributes);};window.Attributes=Attributes;})(window.jQuery,window._);;(function($,Drupal,Bootstrap,Attributes){if(!Drupal.icon)Drupal.icon={bundles:{}};if(!Drupal.theme.icon||Drupal.theme.prototype.icon){$.extend(Drupal.theme,{icon:function(bundle,icon,attributes){if(!Drupal.icon.bundles[bundle])return '';attributes=Attributes.create(attributes).addClass('icon').set('aria-hidden','true');icon=Drupal.icon.bundles[bundle](icon,attributes);return '<span'+attributes+'></span>';}});}
Drupal.icon.bundles.bootstrap=function(icon,attributes){attributes.addClass(['glyphicon','glyphicon-'+icon]);};$.extend(Drupal.theme,{ajaxThrobber:function(){return Drupal.theme('bootstrapIcon','refresh',{'class':['ajax-throbber','glyphicon-spin']});},button:function(attributes){attributes=Attributes.create(attributes).addClass('btn');var context=attributes.get('context','default');var label=attributes.get('value','');attributes.remove('context').remove('value');if(!attributes.hasClass(['btn-default','btn-primary','btn-success','btn-info','btn-warning','btn-danger','btn-link'])){attributes.addClass('btn-'+Bootstrap.checkPlain(context));}
if(!attributes.exists('type')){attributes.set('type',attributes.hasClass('form-submit')?'submit':'button');}
return '<button'+attributes+'>'+label+'</button>';},btn:function(attributes){return Drupal.theme('button',attributes);},'btn-block':function(attributes){return Drupal.theme('button',Attributes.create(attributes).addClass('btn-block'));},'btn-lg':function(attributes){return Drupal.theme('button',Attributes.create(attributes).addClass('btn-lg'));},'btn-sm':function(attributes){return Drupal.theme('button',Attributes.create(attributes).addClass('btn-sm'));},'btn-xs':function(attributes){return Drupal.theme('button',Attributes.create(attributes).addClass('btn-xs'));},bootstrapIcon:function(name,attributes){return Drupal.theme('icon','bootstrap',name,attributes);}});})(window.jQuery,window.Drupal,window.Drupal.bootstrap,window.Attributes);;(function($,Drupal){Drupal.theme.progressBar=function(id){return '<div id="'+id+'" class="progress" aria-live="polite">'+'<div class="progress__label">&nbsp;</div>'+'<div class="progress__track"><div class="progress__bar"></div></div>'+'<div class="progress__percentage"></div>'+'<div class="progress__description">&nbsp;</div>'+'</div>';};Drupal.ProgressBar=function(id,updateCallback,method,errorCallback){this.id=id;this.method=method||'GET';this.updateCallback=updateCallback;this.errorCallback=errorCallback;this.element=$(Drupal.theme('progressBar',id));};$.extend(Drupal.ProgressBar.prototype,{setProgress:function setProgress(percentage,message,label){if(percentage>=0&&percentage<=100){$(this.element).find('div.progress__bar').css('width',percentage+'%');$(this.element).find('div.progress__percentage').html(percentage+'%');}
$('div.progress__description',this.element).html(message);$('div.progress__label',this.element).html(label);if(this.updateCallback){this.updateCallback(percentage,message,this);}},startMonitoring:function startMonitoring(uri,delay){this.delay=delay;this.uri=uri;this.sendPing();},stopMonitoring:function stopMonitoring(){clearTimeout(this.timer);this.uri=null;},sendPing:function sendPing(){if(this.timer){clearTimeout(this.timer);}
if(this.uri){var pb=this;var uri=this.uri;if(uri.indexOf('?')===-1){uri+='?';}else{uri+='&';}
uri+='_format=json';$.ajax({type:this.method,url:uri,data:'',dataType:'json',success:function success(progress){if(progress.status===0){pb.displayError(progress.data);return;}
pb.setProgress(progress.percentage,progress.message,progress.label);pb.timer=setTimeout(function(){pb.sendPing();},pb.delay);},error:function error(xmlhttp){var e=new Drupal.AjaxError(xmlhttp,pb.uri);pb.displayError('<pre>'+e.message+'</pre>');}});}},displayError:function displayError(string){var error=$('<div class="messages messages--error"></div>').html(string);$(this.element).before(error).hide();if(this.errorCallback){this.errorCallback(this);}}});})(jQuery,Drupal);;(function($,Drupal){'use strict';Drupal.theme.progressBar=function(id){return '<div class="progress-wrapper" aria-live="polite">'+
'<div class="message"></div>'+
'<div id ="'+id+'" class="progress progress-striped active">'+
'<div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">'+
'<span class="percentage"></span>'+
'</div>'+
'</div>'+
'<div class="progress-label"></div>'+
'</div>';};$.extend(Drupal.ProgressBar.prototype,{setProgress:function(percentage,message,label){if(percentage>=0&&percentage<=100){$(this.element).find('.progress-bar').css('width',percentage+'%').attr('aria-valuenow',percentage);$(this.element).find('.percentage').html(percentage+'%');}
if(message){message=message.replace(/<br\/>&nbsp;|\s*$/,'');$('.message',this.element).html(message);}
if(label){$('.progress-label',this.element).html(label);}
if(this.updateCallback){this.updateCallback(percentage,message,this);}},displayError:function(string){var error=$('<div class="alert alert-block alert-error"><button class="close" data-dismiss="alert">&times;</button><h4>'+Drupal.t('Error message')+'</h4></div>').append(string);$(this.element).before(error).hide();if(this.errorCallback){this.errorCallback(this);}}});})(jQuery,Drupal);;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}
(function($,window,Drupal,drupalSettings){Drupal.behaviors.AJAX={attach:function attach(context,settings){function loadAjaxBehavior(base){var elementSettings=settings.ajax[base];if(typeof elementSettings.selector==='undefined'){elementSettings.selector='#'+base;}
$(elementSettings.selector).once('drupal-ajax').each(function(){elementSettings.element=this;elementSettings.base=base;Drupal.ajax(elementSettings);});}
Object.keys(settings.ajax||{}).forEach(function(base){return loadAjaxBehavior(base);});Drupal.ajax.bindAjaxLinks(document.body);$('.use-ajax-submit').once('ajax').each(function(){var elementSettings={};elementSettings.url=$(this.form).attr('action');elementSettings.setClick=true;elementSettings.event='click';elementSettings.progress={type:'throbber'};elementSettings.base=$(this).attr('id');elementSettings.element=this;Drupal.ajax(elementSettings);});},detach:function detach(context,settings,trigger){if(trigger==='unload'){Drupal.ajax.expired().forEach(function(instance){Drupal.ajax.instances[instance.instanceIndex]=null;});}}};Drupal.AjaxError=function(xmlhttp,uri,customMessage){var statusCode=void 0;var statusText=void 0;var responseText=void 0;if(xmlhttp.status){statusCode='\n'+Drupal.t('An AJAX HTTP error occurred.')+'\n'+Drupal.t('HTTP Result Code: !status',{'!status':xmlhttp.status});}else{statusCode='\n'+Drupal.t('An AJAX HTTP request terminated abnormally.');}
statusCode+='\n'+Drupal.t('Debugging information follows.');var pathText='\n'+Drupal.t('Path: !uri',{'!uri':uri});statusText='';try{statusText='\n'+Drupal.t('StatusText: !statusText',{'!statusText':$.trim(xmlhttp.statusText)});}catch(e){}
responseText='';try{responseText='\n'+Drupal.t('ResponseText: !responseText',{'!responseText':$.trim(xmlhttp.responseText)});}catch(e){}
responseText=responseText.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,'');responseText=responseText.replace(/[\n]+\s+/g,'\n');var readyStateText=xmlhttp.status===0?'\n'+Drupal.t('ReadyState: !readyState',{'!readyState':xmlhttp.readyState}):'';customMessage=customMessage?'\n'+Drupal.t('CustomMessage: !customMessage',{'!customMessage':customMessage}):'';this.message=statusCode+pathText+statusText+customMessage+responseText+readyStateText;this.name='AjaxError';};Drupal.AjaxError.prototype=new Error();Drupal.AjaxError.prototype.constructor=Drupal.AjaxError;Drupal.ajax=function(settings){if(arguments.length!==1){throw new Error('Drupal.ajax() function must be called with one configuration object only');}
var base=settings.base||false;var element=settings.element||false;delete settings.base;delete settings.element;if(!settings.progress&&!element){settings.progress=false;}
var ajax=new Drupal.Ajax(base,element,settings);ajax.instanceIndex=Drupal.ajax.instances.length;Drupal.ajax.instances.push(ajax);return ajax;};Drupal.ajax.instances=[];Drupal.ajax.expired=function(){return Drupal.ajax.instances.filter(function(instance){return instance&&instance.element!==false&&!document.body.contains(instance.element);});};Drupal.ajax.bindAjaxLinks=function(element){$(element).find('.use-ajax').once('ajax').each(function(i,ajaxLink){var $linkElement=$(ajaxLink);var elementSettings={progress:{type:'throbber'},dialogType:$linkElement.data('dialog-type'),dialog:$linkElement.data('dialog-options'),dialogRenderer:$linkElement.data('dialog-renderer'),base:$linkElement.attr('id'),element:ajaxLink};var href=$linkElement.attr('href');if(href){elementSettings.url=href;elementSettings.event='click';}
Drupal.ajax(elementSettings);});};Drupal.Ajax=function(base,element,elementSettings){var defaults={event:element?'mousedown':null,keypress:true,selector:base?'#'+base:null,effect:'none',speed:'none',method:'replaceWith',progress:{type:'throbber',message:Drupal.t('Please wait...')},submit:{js:true}};$.extend(this,defaults,elementSettings);this.commands=new Drupal.AjaxCommands();this.instanceIndex=false;if(this.wrapper){this.wrapper='#'+this.wrapper;}
this.element=element;this.element_settings=elementSettings;this.elementSettings=elementSettings;if(this.element&&this.element.form){this.$form=$(this.element.form);}
if(!this.url){var $element=$(this.element);if($element.is('a')){this.url=$element.attr('href');}else if(this.element&&element.form){this.url=this.$form.attr('action');}}
var originalUrl=this.url;this.url=this.url.replace(/\/nojs(\/|$|\?|#)/,'/ajax$1');if(drupalSettings.ajaxTrustedUrl[originalUrl]){drupalSettings.ajaxTrustedUrl[this.url]=true;}
var ajax=this;ajax.options={url:ajax.url,data:ajax.submit,beforeSerialize:function beforeSerialize(elementSettings,options){return ajax.beforeSerialize(elementSettings,options);},beforeSubmit:function beforeSubmit(formValues,elementSettings,options){ajax.ajaxing=true;return ajax.beforeSubmit(formValues,elementSettings,options);},beforeSend:function beforeSend(xmlhttprequest,options){ajax.ajaxing=true;return ajax.beforeSend(xmlhttprequest,options);},success:function success(response,status,xmlhttprequest){if(typeof response==='string'){response=$.parseJSON(response);}
if(response!==null&&!drupalSettings.ajaxTrustedUrl[ajax.url]){if(xmlhttprequest.getResponseHeader('X-Drupal-Ajax-Token')!=='1'){var customMessage=Drupal.t('The response failed verification so will not be processed.');return ajax.error(xmlhttprequest,ajax.url,customMessage);}}
return ajax.success(response,status);},complete:function complete(xmlhttprequest,status){ajax.ajaxing=false;if(status==='error'||status==='parsererror'){return ajax.error(xmlhttprequest,ajax.url);}},dataType:'json',type:'POST'};if(elementSettings.dialog){ajax.options.data.dialogOptions=elementSettings.dialog;}
if(ajax.options.url.indexOf('?')===-1){ajax.options.url+='?';}else{ajax.options.url+='&';}
var wrapper='drupal_'+(elementSettings.dialogType||'ajax');if(elementSettings.dialogRenderer){wrapper+='.'+elementSettings.dialogRenderer;}
ajax.options.url+=Drupal.ajax.WRAPPER_FORMAT+'='+wrapper;$(ajax.element).on(elementSettings.event,function(event){if(!drupalSettings.ajaxTrustedUrl[ajax.url]&&!Drupal.url.isLocal(ajax.url)){throw new Error(Drupal.t('The callback URL is not local and not trusted: !url',{'!url':ajax.url}));}
return ajax.eventResponse(this,event);});if(elementSettings.keypress){$(ajax.element).on('keypress',function(event){return ajax.keypressResponse(this,event);});}
if(elementSettings.prevent){$(ajax.element).on(elementSettings.prevent,false);}};Drupal.ajax.WRAPPER_FORMAT='_wrapper_format';Drupal.Ajax.AJAX_REQUEST_PARAMETER='_drupal_ajax';Drupal.Ajax.prototype.execute=function(){if(this.ajaxing){return;}
try{this.beforeSerialize(this.element,this.options);return $.ajax(this.options);}catch(e){this.ajaxing=false;window.alert('An error occurred while attempting to process '+this.options.url+': '+e.message);return $.Deferred().reject();}};Drupal.Ajax.prototype.keypressResponse=function(element,event){var ajax=this;if(event.which===13||event.which===32&&element.type!=='text'&&element.type!=='textarea'&&element.type!=='tel'&&element.type!=='number'){event.preventDefault();event.stopPropagation();$(element).trigger(ajax.elementSettings.event);}};Drupal.Ajax.prototype.eventResponse=function(element,event){event.preventDefault();event.stopPropagation();var ajax=this;if(ajax.ajaxing){return;}
try{if(ajax.$form){if(ajax.setClick){element.form.clk=element;}
ajax.$form.ajaxSubmit(ajax.options);}else{ajax.beforeSerialize(ajax.element,ajax.options);$.ajax(ajax.options);}}catch(e){ajax.ajaxing=false;window.alert('An error occurred while attempting to process '+ajax.options.url+': '+e.message);}};Drupal.Ajax.prototype.beforeSerialize=function(element,options){if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.detachBehaviors(this.$form.get(0),settings,'serialize');}
options.data[Drupal.Ajax.AJAX_REQUEST_PARAMETER]=1;var pageState=drupalSettings.ajaxPageState;options.data['ajax_page_state[theme]']=pageState.theme;options.data['ajax_page_state[theme_token]']=pageState.theme_token;options.data['ajax_page_state[libraries]']=pageState.libraries;};Drupal.Ajax.prototype.beforeSubmit=function(formValues,element,options){};Drupal.Ajax.prototype.beforeSend=function(xmlhttprequest,options){if(this.$form){options.extraData=options.extraData||{};options.extraData.ajax_iframe_upload='1';var v=$.fieldValue(this.element);if(v!==null){options.extraData[this.element.name]=v;}}
$(this.element).prop('disabled',true);if(!this.progress||!this.progress.type){return;}
var progressIndicatorMethod='setProgressIndicator'+this.progress.type.slice(0,1).toUpperCase()+this.progress.type.slice(1).toLowerCase();if(progressIndicatorMethod in this&&typeof this[progressIndicatorMethod]==='function'){this[progressIndicatorMethod].call(this);}};Drupal.theme.ajaxProgressThrobber=function(message){var messageMarkup=typeof message==='string'?Drupal.theme('ajaxProgressMessage',message):'';var throbber='<div class="throbber">&nbsp;</div>';return '<div class="ajax-progress ajax-progress-throbber">'+throbber+messageMarkup+'</div>';};Drupal.theme.ajaxProgressIndicatorFullscreen=function(){return '<div class="ajax-progress ajax-progress-fullscreen">&nbsp;</div>';};Drupal.theme.ajaxProgressMessage=function(message){return '<div class="message">'+message+'</div>';};Drupal.theme.ajaxProgressBar=function($element){return $('<div class="ajax-progress ajax-progress-bar"></div>').append($element);};Drupal.Ajax.prototype.setProgressIndicatorBar=function(){var progressBar=new Drupal.ProgressBar('ajax-progress-'+this.element.id,$.noop,this.progress.method,$.noop);if(this.progress.message){progressBar.setProgress(-1,this.progress.message);}
if(this.progress.url){progressBar.startMonitoring(this.progress.url,this.progress.interval||1500);}
this.progress.element=$(Drupal.theme('ajaxProgressBar',progressBar.element));this.progress.object=progressBar;$(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorThrobber=function(){this.progress.element=$(Drupal.theme('ajaxProgressThrobber',this.progress.message));$(this.element).after(this.progress.element);};Drupal.Ajax.prototype.setProgressIndicatorFullscreen=function(){this.progress.element=$(Drupal.theme('ajaxProgressIndicatorFullscreen'));$('body').append(this.progress.element);};Drupal.Ajax.prototype.success=function(response,status){var _this=this;if(this.progress.element){$(this.progress.element).remove();}
if(this.progress.object){this.progress.object.stopMonitoring();}
$(this.element).prop('disabled',false);var elementParents=$(this.element).parents('[data-drupal-selector]').addBack().toArray();var focusChanged=false;Object.keys(response||{}).forEach(function(i){if(response[i].command&&_this.commands[response[i].command]){_this.commands[response[i].command](_this,response[i],status);if(response[i].command==='invoke'&&response[i].method==='focus'){focusChanged=true;}}});if(!focusChanged&&this.element&&!$(this.element).data('disable-refocus')){var target=false;for(var n=elementParents.length-1;!target&&n>=0;n--){target=document.querySelector('[data-drupal-selector="'+elementParents[n].getAttribute('data-drupal-selector')+'"]');}
if(target){$(target).trigger('focus');}}
if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}
this.settings=null;};Drupal.Ajax.prototype.getEffect=function(response){var type=response.effect||this.effect;var speed=response.speed||this.speed;var effect={};if(type==='none'){effect.showEffect='show';effect.hideEffect='hide';effect.showSpeed='';}else if(type==='fade'){effect.showEffect='fadeIn';effect.hideEffect='fadeOut';effect.showSpeed=speed;}else{effect.showEffect=type+'Toggle';effect.hideEffect=type+'Toggle';effect.showSpeed=speed;}
return effect;};Drupal.Ajax.prototype.error=function(xmlhttprequest,uri,customMessage){if(this.progress.element){$(this.progress.element).remove();}
if(this.progress.object){this.progress.object.stopMonitoring();}
$(this.wrapper).show();$(this.element).prop('disabled',false);if(this.$form&&document.body.contains(this.$form.get(0))){var settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}
throw new Drupal.AjaxError(xmlhttprequest,uri,customMessage);};Drupal.theme.ajaxWrapperNewContent=function($newContent,ajax,response){return(response.effect||ajax.effect)!=='none'&&$newContent.filter(function(i){return!($newContent[i].nodeName==='#comment'||$newContent[i].nodeName==='#text'&&/^(\s|\n|\r)*$/.test($newContent[i].textContent));}).length>1?Drupal.theme('ajaxWrapperMultipleRootElements',$newContent):$newContent;};Drupal.theme.ajaxWrapperMultipleRootElements=function($elements){return $('<div></div>').append($elements);};Drupal.AjaxCommands=function(){};Drupal.AjaxCommands.prototype={insert:function insert(ajax,response){var $wrapper=response.selector?$(response.selector):$(ajax.wrapper);var method=response.method||ajax.method;var effect=ajax.getEffect(response);var settings=response.settings||ajax.settings||drupalSettings;var $newContent=$($.parseHTML(response.data,document,true));$newContent=Drupal.theme('ajaxWrapperNewContent',$newContent,ajax,response);switch(method){case 'html':case 'replaceWith':case 'replaceAll':case 'empty':case 'remove':Drupal.detachBehaviors($wrapper.get(0),settings);break;default:break;}
$wrapper[method]($newContent);if(effect.showEffect!=='show'){$newContent.hide();}
var $ajaxNewContent=$newContent.find('.ajax-new-content');if($ajaxNewContent.length){$ajaxNewContent.hide();$newContent.show();$ajaxNewContent[effect.showEffect](effect.showSpeed);}else if(effect.showEffect!=='show'){$newContent[effect.showEffect](effect.showSpeed);}
if($newContent.parents('html').length){$newContent.each(function(index,element){if(element.nodeType===Node.ELEMENT_NODE){Drupal.attachBehaviors(element,settings);}});}},remove:function remove(ajax,response,status){var settings=response.settings||ajax.settings||drupalSettings;$(response.selector).each(function(){Drupal.detachBehaviors(this,settings);}).remove();},changed:function changed(ajax,response,status){var $element=$(response.selector);if(!$element.hasClass('ajax-changed')){$element.addClass('ajax-changed');if(response.asterisk){$element.find(response.asterisk).append(' <abbr class="ajax-changed" title="'+Drupal.t('Changed')+'">*</abbr> ');}}},alert:function alert(ajax,response,status){window.alert(response.text,response.title);},announce:function announce(ajax,response){if(response.priority){Drupal.announce(response.text,response.priority);}else{Drupal.announce(response.text);}},redirect:function redirect(ajax,response,status){window.location=response.url;},css:function css(ajax,response,status){$(response.selector).css(response.argument);},settings:function settings(ajax,response,status){var ajaxSettings=drupalSettings.ajax;if(ajaxSettings){Drupal.ajax.expired().forEach(function(instance){if(instance.selector){var selector=instance.selector.replace('#','');if(selector in ajaxSettings){delete ajaxSettings[selector];}}});}
if(response.merge){$.extend(true,drupalSettings,response.settings);}else{ajax.settings=response.settings;}},data:function data(ajax,response,status){$(response.selector).data(response.name,response.value);},invoke:function invoke(ajax,response,status){var $element=$(response.selector);$element[response.method].apply($element,_toConsumableArray(response.args));},restripe:function restripe(ajax,response,status){$(response.selector).find('> tbody > tr:visible, > tr:visible').removeClass('odd even').filter(':even').addClass('odd').end().filter(':odd').addClass('even');},update_build_id:function update_build_id(ajax,response,status){$('input[name="form_build_id"][value="'+response.old+'"]').val(response.new);},add_css:function add_css(ajax,response,status){$('head').prepend(response.data);var match=void 0;var importMatch=/^@import url\("(.*)"\);$/gim;if(document.styleSheets[0].addImport&&importMatch.test(response.data)){importMatch.lastIndex=0;do{match=importMatch.exec(response.data);document.styleSheets[0].addImport(match[1]);}while(match);}},message:function message(ajax,response){var messages=new Drupal.Message(document.querySelector(response.messageWrapperQuerySelector));if(response.clearPrevious){messages.clear();}
messages.add(response.message,response.messageOptions);}};})(jQuery,window,Drupal,drupalSettings);;(function($,window,Drupal,drupalSettings){Drupal.Ajax.prototype.findGlyphicon=function(element){return $(element).closest('.form-item').find('.ajax-progress.glyphicon')};Drupal.Ajax.prototype.glyphiconStart=function(element,message){var $glyphicon=this.findGlyphicon(element);if($glyphicon[0]){$glyphicon.addClass('glyphicon-spin');if(drupalSettings.bootstrap.tooltip_enabled){$glyphicon.removeAttr('data-toggle').removeAttr('data-original-title').removeAttr('title').tooltip('destroy');if(message){$glyphicon.attr('data-toggle','tooltip').attr('title',message).tooltip();}}
if(message){$glyphicon.parent().append('<div class="sr-only message">'+message+'</div>');}}
return $glyphicon;};Drupal.Ajax.prototype.glyphiconStop=function(element){var $glyphicon=this.findGlyphicon(element);if($glyphicon[0]){$glyphicon.removeClass('glyphicon-spin');if(drupalSettings.bootstrap.tooltip_enabled){$glyphicon.removeAttr('data-toggle').removeAttr('data-original-title').removeAttr('title').tooltip('destroy');}}};Drupal.Ajax.prototype.setProgressIndicatorThrobber=function(){var $element=$(this.element);var $glyphicon=this.glyphiconStart($element,this.progress.message);if($glyphicon[0]){this.progress.element=$glyphicon.parent();this.progress.glyphicon=true;return;}
if(!this.progress.element){this.progress.element=$(Drupal.theme('ajaxThrobber'));}
if(this.progress.message){this.progress.element.after('<div class="message">'+this.progress.message+'</div>');}
if($element.is('input')){$element.after(this.progress.element);}
else{$element.append(this.progress.element);}};Drupal.Ajax.prototype.success=function(response,status){if(this.progress.element){if(this.progress.glyphicon){this.glyphiconStop(this.progress.element);}
else{this.progress.element.remove();}
this.progress.element.parent().find('.message').remove();}
if(this.progress.object){this.progress.object.stopMonitoring();}
$(this.element).prop('disabled',false);var elementParents=$(this.element).parents('[data-drupal-selector]').addBack().toArray();var focusChanged=false;for(var i in response){if(response.hasOwnProperty(i)&&response[i].command&&this.commands[response[i].command]){this.commands[response[i].command](this,response[i],status);if(response[i].command==='invoke'&&response[i].method==='focus'){focusChanged=true;}}}
if(!focusChanged&&this.element&&!$(this.element).data('disable-refocus')){var target=false;for(var n=elementParents.length-1;!target&&n>0;n--){target=document.querySelector('[data-drupal-selector="'+elementParents[n].getAttribute('data-drupal-selector')+'"]');}
if(target){$(target).trigger('focus');}}
if(this.$form){var settings=this.settings||drupalSettings;Drupal.attachBehaviors(this.$form.get(0),settings);}
this.settings=null;};})(jQuery,this,Drupal,drupalSettings);;jQuery(function($){$('#closeSearchModal').click(function(){$('.search-modal').removeClass('show')});$('#scrollToTop').on('click',function(e){e.preventDefault();$('html,body').animate({scrollTop:0},700);});$('.navbar-wrap .navbar-nav > li.dropdown > .dropdown-menu > li > span').on('click',function(){$(this).off('click');});$(document).keyup(function(e){if(e.keyCode==27){$('.search-modal').removeClass('show')}});$('#openSearchModal, #openSearchModalDesktop').click(function(){$('.search-modal').addClass('show');$('.search-modal #views-exposed-form-search-page-1 input#edit-keywords').focus();});if($('article.project, .page-node-400').length){if($('h3.section-title, .page-node-400 .content h2.title').length>3){$('<div class="project-navbar"><div class="container"><div class="row-flex"></div></div></div>').insertAfter('header.navbar');$('h3.section-title').each(function(){var innerText=$(this).text();var innerTextId=$(this).attr('id');var eachLine='<div class="project-item"><a href="#'+innerTextId+'">'+innerText+'</a></div>';$('.project-navbar .row-flex').append(eachLine);})
$('.page-node-400 .content h2.title').each(function(){var innerText=$(this).text();var innerTextTrimmed=$(this).text().replace(/[\*\^\'\!]/g,'').split(' ').join('-');var eachLine='<div class="project-item"><a href="#'+innerTextTrimmed+'">'+innerText+'</a></div>';$(this).attr('id',innerTextTrimmed);$('.project-navbar .row-flex').append(eachLine);})}
$('.project-navbar a').click(function(e){e.preventDefault();var blockId=$(this).attr('href');$('html, body').animate({scrollTop:$(blockId).offset().top-131},500)})
$(window).on('scroll',function(){$('.project-navbar a').each(function(){var currLink=$(this);var blockId=$(currLink.attr("href"));var top_of_page=$(window).scrollTop();var scrollHeight=$(document).height();var scrollPosition=$(window).height()+top_of_page;if(blockId.offset().top<=top_of_page+141){$('.project-navbar a').removeClass("active");currLink.addClass("active");}
else if((scrollHeight-scrollPosition)/scrollHeight===0){$('.project-navbar a').removeClass('active');$('.project-navbar a:last').addClass('active');}
else{currLink.removeClass("active");}})}).trigger('scroll');$('.project-navbar .row-flex').slick({infinite:false,mobileFirst:true,arrows:true,prevArrow:'<i class="fa fa-angle-left slick-arrow btn-prev"></i>',nextArrow:'<i class="fa fa-angle-right slick-arrow btn-next"></i>',responsive:[{breakpoint:767,settings:"unslick"}]});$('.project-navbar .slick-arrow').off('click');};if($('#SharePrice').length){if($(window).outerWidth()<=600){$('.market-cap').insertAfter($('.lowest-share'));}
$(window).on('resize',function(){var win=$(this);if(win.outerWidth()<=600){$('.market-cap').insertAfter($('.lowest-share'));}
if(win.outerWidth()>=601){$('.market-cap').detach().appendTo('.share-groups.share-first-col > .share-group:last-child');}});};if($('article.project').length){if($(window).outerWidth()<=767){$('.project-compare').insertAfter($('.project-left'));}
$(window).on('resize',function(){var win=$(this);if(win.outerWidth()<=767){$('.project-compare').insertAfter($('.project-left'));}
if(win.outerWidth()>=768){$('.project-compare').insertAfter($('.scroll-area'));}});};if($('.path-publication, .view-press-release, .view-publication').length){$('.iso-label').each(function(){if($(this).find('a').attr("href")==window.location.pathname){$(this).addClass("active");}})};if($('#views-exposed-form-projects-page-1 #edit-purpose-26').is(':checked')){$('#views-exposed-form-projects-page-1 .form-item-type-buy').hide();$('#views-exposed-form-projects-page-1 .form-item-price-range').hide();$('#views-exposed-form-projects-page-1 .form-item-type-lease').show();}
$('#views-exposed-form-projects-page-1 #edit-purpose-26').on('click',function(){if($('#views-exposed-form-projects-page-1 #edit-purpose-26').is(':checked')){$('#views-exposed-form-projects-page-1 .form-item-type-buy').hide();$('#views-exposed-form-projects-page-1 .form-item-price-range').hide();$('#views-exposed-form-projects-page-1 .form-item-type-lease').show();}});$('#views-exposed-form-projects-page-1 #edit-purpose-25').on('click',function(){if($('#views-exposed-form-projects-page-1 #edit-purpose-25').is(':checked')){$('#views-exposed-form-projects-page-1 .form-item-type-lease').hide();$('#views-exposed-form-projects-page-1 .form-item-type-buy').show();$('#views-exposed-form-projects-page-1 .form-item-price-range').show();}});$('#views-exposed-form-projects-page-1 #edit-sort-bef-combine').on('change',function(){$('#views-exposed-form-projects-page-1 #edit-submit-projects').click();});if($('#views-exposed-form-projects-page-1 #edit-purpose-26').is(':checked')){$('#views-exposed-form-projects-page-1 .form-item-type-buy').hide();$('#views-exposed-form-projects-page-1 .form-item-price-range').hide();$('#views-exposed-form-projects-page-1 .form-item-type-lease').show();}
if($('article.project .project-buysell .views-row').length){var msgbox=$('article.project .project-buysell .views-row').offset().top;$(window).on('scroll',function(){var windowOffset=$(window).scrollTop();if(windowOffset>msgbox/3){$('article.project .project-buysell .views-row').addClass('active')};});}
$(document).ready(function(){$(window).scroll(function(){if($(document).height()>$(window).height()){if($(window).scrollTop()+$(window).height()==$(document).height()){$('#scrollToTop').addClass('show');}else{$('#scrollToTop').removeClass('show');}}});if($('.bg404').length){$('h1.page-header').hide();}
$(document).scroll(function(){var value=$(document).scrollTop();if(value>=1)
$('body').addClass('scrolled')
else{$('body').removeClass('scrolled')}}).trigger('scroll');$('.v-homeslider .wrap, .milestone-detail-group .image').each(function(){var bgImg=$(this).attr('data-image');if(bgImg){$(this).css('background-image','url('+bgImg+')');}})
if($('.v-homeslider').length){$('.v-homeslider .view-content').slick({arrows:false,autoplay:true,speed:800,responsive:[{breakpoint:480,settings:{autoplay:false,swipe:false,draggable:false,}}]})}
if($('.form-item-purpose').length){$('.form-item-purpose input').each(function(){if($(this).is(':checked')){$(this).parent().addClass('checked');}});$('.form-item-purpose input').click(function(){$('input:radio').parent().removeClass('checked');$(this).parent().addClass('checked');});}
if($('.form-item-field-project-type-target-id').length){$(function(){var link=$('.view-township-taxonomy .form-radios > .form-item:first-child label');var input=link.find('input');link.html('All');link.prepend(input);});$('.form-item-field-project-type-target-id input').each(function(){if($(this).is(':checked')){$(this).parent().addClass('checked');}});$('.form-item-field-project-type-target-id input').click(function(){$('input:radio').parent().removeClass('checked');$(this).parent().addClass('checked');});}
if($('.project-readmore').length){$('.project-readmore').each(function(){if($(this).height()>=200){$(this).addClass('shorten');}else{$(this).addClass('default');}});}
$('.btn-readmore, .btn-readless').click(function(){$(this).parent().toggleClass('open');})
if(('.milestone-detail-group').length){$('.milestone-detail-group').each(function(){var eh=$(this).find('.details').outerHeight();$(this).find('.image').height(eh);});$('a.milestone').on("click",function(e){e.preventDefault();var blockId=$(this).attr('href');$('html, body').animate({scrollTop:$(blockId).offset().top+10},500);});$(window).on('scroll',function(){$('a.milestone').each(function(){var currLink=$(this);var refElement=$(currLink.attr("href"));var top_of_page=$(window).scrollTop();var scrollHeight=$(document).height();var scrollPosition=$(window).height()+top_of_page;if(refElement.offset().top<=top_of_page){$('.view-milestones .attachment ul.list-unstyled li').removeClass("active");currLink.closest('li').addClass("active");}
else if((scrollHeight-scrollPosition)/scrollHeight===0){$('.view-milestones .attachment ul.list-unstyled li').removeClass('active');$('.view-milestones .attachment ul.list-unstyled li:last').addClass('active');}
else{currLink.closest('li').removeClass("active");}})
if(window.matchMedia('(max-width: 1199px)').matches&&($('.view-milestones .attachment ul.list-unstyled').length)){$('a.milestone').click(function(e){e.preventDefault();})}}).trigger('scroll');}
if($('.view-milestones .attachment ul.list-unstyled').length){var listTop=$('.view-milestones .attachment ul.list-unstyled').offset().top;$window=$(window);$(window).on('scroll',function(){if($window.scrollTop()>=listTop){$('.view-milestones .attachment ul.list-unstyled').addClass('stick');}else{$('.view-milestones .attachment ul.list-unstyled').removeClass('stick');}}).scroll();$('.view-milestones .attachment ul.list-unstyled').slick({mobileFirst:true,arrows:true,infinite:false,prevArrow:'<i class="fa fa-angle-left slick-arrow btn-prev"></i>',nextArrow:'<i class="fa fa-angle-right slick-arrow btn-next"></i>',responsive:[{breakpoint:1199,settings:"unslick"}]});$('.slick-arrow').off('click');$('.view-milestones .attachment ul.list-unstyled li').each(function(){var blockId=$(this).find('a').attr('href');var slideIndex=$(this).index();var scrollBlockHeight=$('.view-milestones .attachment ul.list-unstyled').outerHeight();$(blockId).waypoint(function(){$('.view-milestones .attachment ul.list-unstyled').slick('slickGoTo',parseInt(slideIndex));},{offset:scrollBlockHeight+'px'})});}
if($('.path-frontpage').length){$('.v-promotion .view-content').slick({adaptiveHeight:true,prevArrow:'<a class="btn-slideshow slick-prev"><img src="/themes/ioi/img/slick-left.png"></a>',nextArrow:'<a class="btn-slideshow slick-next"><img src="/themes/ioi/img/slick-right.png"></a>'})}
$('.view-milestones .attachment ul.list-unstyled').on("swipe",function onSwipe(){var blockId=$(this).find('li.slick-current a.milestone').attr('href');var listHeight=$(this).outerHeight();$('html, body').animate({scrollTop:$(blockId).offset().top-listHeight},500);})
if($('.landing-navigators').length){$('.landing-navigators > a.navigate[href^="#"]').each(function(){$(this).click(function(e){e.preventDefault();var blockId=$(this).attr('href');$('html, body').animate({scrollTop:$(blockId).offset().top-60},500)});});$('.landing-navigators').slick({infinite:false,mobileFirst:true,arrows:true,dots:true,prevArrow:'<i class="fa fa-angle-left slick-arrow btn-prev"></i>',nextArrow:'<i class="fa fa-angle-right slick-arrow btn-next"></i>',responsive:[{breakpoint:767,settings:"unslick"}]});$('.landing-page .landing-navigators').on('afterChange',function(event,slick,currentSlide,nextSlide){if($('.landing-navigators a[href^="#"]')){var dataId=$(slick.$slides[currentSlide]).attr("href");if($(slick.$slides[currentSlide]).is(':first-child')){$('html, body').animate({scrollTop:0},500);}else if($(slick.$slides[currentSlide]).is("[href^='#']")){$('html, body').animate({scrollTop:$(dataId).offset().top-60},500)};};});}
if($('.livo-merchants .merchants-slide').length){$('.livo-merchants .merchants-slide').slick({slidesToShow:5,slidesToScroll:1,swipeToSlide:true,infinite:true,asNavFor:'.livo-pack',dots:false,focusOnSelect:true,arrows:false,centerMode:true,responsive:[{breakpoint:992,settings:{slidesToShow:4,}},{breakpoint:768,settings:{slidesToShow:3}},{breakpoint:481,settings:{slidesToShow:1}}],});$('.livo-pack').slick({slidesToShow:1,asNavFor:'.livo-merchants .merchants-slide',adaptiveHeight:false,prevArrow:'<a class="btn-slideshow slick-prev"><img src="/themes/ioi/img/landing-pink-prev.png"></a>',nextArrow:'<a class="btn-slideshow slick-next"><img src="/themes/ioi/img/landing-pink-next.png"></a>',})}
if($('.landing-page .panel').length){$('.landing-page .panel-heading .panel-title > a').click(function(){$(this).closest('.panel').toggleClass('focus');$('.panel').not($(this).closest('.panel')).removeClass('focus');});}
if($('.comparison-table').length){$('.comparison-table .view-content table tr td').each(function(){if($.trim($(this).html())==''){$(this).addClass('emptyTD');}});$('.comparison-table .view-content table tr').each(function(){if($(this).children('.emptyTD').length==$(this).children('td').length){$(this).remove();}});};if($('article.project').length){$('article.project .project-promo .form-group').each(function(){if($(this).html()==''){$(this).remove();}});$('article.project .project-promo > .form-group').each(function(){$(this).find('a').each(function(){$(this).appendTo('.promo-slick');});});$('article.project .promo-slick').slick({adaptiveHeight:true,autoplay:true,prevArrow:'<a class="btn-slideshow slick-prev"><img src="/themes/ioi/img/slick-left.png"></a>',nextArrow:'<a class="btn-slideshow slick-next"><img src="/themes/ioi/img/slick-right.png"></a>'});$('article.project .project-township-files .project-files .filelist').slick({arrows:true,prevArrow:'<i class="fa fa-angle-left slick-arrow btn-prev"></i>',nextArrow:'<i class="fa fa-angle-right slick-arrow btn-next"></i>',slidesToShow:1,mobileFirst:true,responsive:[{breakpoint:768,settings:"unslick"}]});}
if($('#registerNowModal').length){$('#registerNowModal').on('show.bs.modal',function(event){var button=$(event.relatedTarget);var name=button.data('title');var township=button.data('township');var recipient=button.data('recipient');var recipientcc=button.data('recipientcc');var nid=button.data('nid');var modal=$(this);modal.find('.webform-readonly.form-item-project-title input').val(name);modal.find('input[name="project_name"]').val(name);modal.find('input[name="nodeid"]').val(nid);if(township!=''){modal.find('input[name="township_name"]').val(township+' ');}
modal.find('input[name="recipient"]').val(recipient);modal.find('input[name="recipient_cc"]').val(recipientcc);});$('.registernow-modal form .form-submit').on('click',function(){gtag('event','Register',{'event_category':'Registration','event_label':name});});};$(function(){setTimeout(function(){if(location.hash){window.scrollTo(0,0);target=location.hash.split('#');smoothScrollTo($('#'+target[1]));}},1);$('ul.dropdown-menu > li > a[href*="#"], .paragraph--type--graphical-list .my-col > a[href*="#"]').not('[href="#"]').not('[href="#0"]').click(function(){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){smoothScrollTo($(this.hash));return false;}});function smoothScrollTo(target){target=target.length?target:$('[name='+this.hash.slice(1)+']');console.log(target);if(target.length){$('html,body').animate({scrollTop:target.offset().top-50},1000);}}});if($('.view-ioi-galleria').length){$('.view-ioi-galleria ul.nav-tabs li').on('click',function(){$('.view-ioi-galleria ul.nav-tabs li').removeClass('active');$(this).parent('ul.nav-tabs').toggleClass('expanded');$(this).addClass('active');$('html,body').animate({scrollTop:$('.view-ioi-galleria ul.nav-tabs').offset().top-$('header').outerHeight()},1000);})}
if($('.sidecontact form').length){$('.sidecontact form .form-submit').on('click',function(){var selectedTownship=$('.sidecontact form').find(":selected").text();gtag('event','Register',{'event_category':'Registration','event_label':selectedTownship});})};if($('.promo-webform').length){$('.promo-webform select').change(function(){var projectSelected='';$('select option:selected').each(function(){projectSelected+=$(this).val();});$('.promo-webform input[name=recipient]').val($('#recipients').find('.re-'+projectSelected).text());$('.promo-webform input[name=recipient_cc]').val($('#recipients').find('.recc-'+projectSelected).text());$('.promo-webform input[name=nodetitle]').val($('#recipients').find('.nodetitle-'+projectSelected).text());$('.promo-webform input[name=township]').val($('#recipients').find('.township-'+projectSelected).text());}).trigger('change');$('.promo-webform form .form-submit').on('click',function(){var selectedProject=$('.promo-webform form').find(":selected").text();gtag('event','Register',{'event_category':'Registration','event_label':selectedProject});})};if($('.vblock-activity').length){$('.vblock-activity .wrap').each(function(){var bgImg=$(this).attr('data-image');$(this).css('background-image','url('+bgImg+')');})};if($('.vblock-initiative').length){$('.vblock-initiative .view-content').slick({slidesToShow:1,slidesToScroll:1,prevArrow:'<a class="btn-slideshow slick-prev"><img src="/themes/ioi/img/slick-left-grey.png"></a>',nextArrow:'<a class="btn-slideshow slick-next"><img src="/themes/ioi/img/slick-right-grey.png"></a>'});};if($('.vblock-media').length){$('.vblock-media-thumb .view-content').slick({slidesToShow:4,slidesToScroll:1,swipeToSlide:true,infinite:true,asNavFor:'.vblock-media > .view-content',dots:false,focusOnSelect:true,prevArrow:'<a class="btn-slideshow slick-prev"><img src="/themes/ioi/img/slick-left-grey.png"></a>',nextArrow:'<a class="btn-slideshow slick-next"><img src="/themes/ioi/img/slick-right-grey.png"></a>',responsive:[{breakpoint:991,settings:{slidesToShow:3}},{breakpoint:600,settings:{slidesToShow:1,arrows:false}}]});$('.vblock-media > .view-content').slick({slidesToShow:1,asNavFor:'.vblock-media-thumb .view-content',adaptiveHeight:true,arrows:false,swipeToSlide:true,responsive:[{breakpoint:600,settings:{arrows:true,prevArrow:'<a class="btn-slideshow slick-prev"><img src="/themes/ioi/img/slick-left-grey.png"></a>',nextArrow:'<a class="btn-slideshow slick-next"><img src="/themes/ioi/img/slick-right-grey.png"></a>'}}]});};if($('.webform-submission-enquiry-for-everything-also-have-form').length){$('.webform-submission-enquiry-for-everything-also-have-form select').change(function(){var projectSelected='';$('select option:selected').each(function(){projectSelected+=$(this).val();});$('.webform-submission-enquiry-for-everything-also-have-form input[name=recipient]').val($('#recipientsStayHome').find('.re-'+projectSelected).text());$('.webform-submission-enquiry-for-everything-also-have-form input[name=recipient_cc]').val($('#recipientsStayHome').find('.recc-'+projectSelected).text());}).trigger('change');};if($('.page-node-type-bod .content .view-board-of-director').length){$('.view-board-of-director a.wrap .thumb').each(function(){var bgImg=$(this).attr('data-image');$(this).css('background-image','url('+bgImg+')');})};})});(function($,Drupal){var states={postponed:[]};Drupal.states=states;function invert(a,invertState){return invertState&&typeof a!=='undefined'?!a:a;}
function _compare2(a,b){if(a===b){return typeof a==='undefined'?a:true;}
return typeof a==='undefined'||typeof b==='undefined';}
function ternary(a,b){if(typeof a==='undefined'){return b;}
if(typeof b==='undefined'){return a;}
return a&&b;}
Drupal.behaviors.states={attach:function attach(context,settings){var $states=$(context).find('[data-drupal-states]');var il=$states.length;var _loop=function _loop(i){var config=JSON.parse($states[i].getAttribute('data-drupal-states'));Object.keys(config||{}).forEach(function(state){new states.Dependent({element:$($states[i]),state:states.State.sanitize(state),constraints:config[state]});});};for(var i=0;i<il;i++){_loop(i);}
while(states.postponed.length){states.postponed.shift()();}}};states.Dependent=function(args){var _this=this;$.extend(this,{values:{},oldValue:null},args);this.dependees=this.getDependees();Object.keys(this.dependees||{}).forEach(function(selector){_this.initializeDependee(selector,_this.dependees[selector]);});};states.Dependent.comparisons={RegExp:function RegExp(reference,value){return reference.test(value);},Function:function Function(reference,value){return reference(value);},Number:function Number(reference,value){return typeof value==='string'?_compare2(reference.toString(),value):_compare2(reference,value);}};states.Dependent.prototype={initializeDependee:function initializeDependee(selector,dependeeStates){var _this2=this;this.values[selector]={};Object.keys(dependeeStates).forEach(function(i){var state=dependeeStates[i];if($.inArray(state,dependeeStates)===-1){return;}
state=states.State.sanitize(state);_this2.values[selector][state.name]=null;$(selector).on('state:'+state,{selector:selector,state:state},function(e){_this2.update(e.data.selector,e.data.state,e.value);});new states.Trigger({selector:selector,state:state});});},compare:function compare(reference,selector,state){var value=this.values[selector][state.name];if(reference.constructor.name in states.Dependent.comparisons){return states.Dependent.comparisons[reference.constructor.name](reference,value);}
return _compare2(reference,value);},update:function update(selector,state,value){if(value!==this.values[selector][state.name]){this.values[selector][state.name]=value;this.reevaluate();}},reevaluate:function reevaluate(){var value=this.verifyConstraints(this.constraints);if(value!==this.oldValue){this.oldValue=value;value=invert(value,this.state.invert);this.element.trigger({type:'state:'+this.state,value:value,trigger:true});}},verifyConstraints:function verifyConstraints(constraints,selector){var result=void 0;if($.isArray(constraints)){var hasXor=$.inArray('xor',constraints)===-1;var len=constraints.length;for(var i=0;i<len;i++){if(constraints[i]!=='xor'){var constraint=this.checkConstraints(constraints[i],selector,i);if(constraint&&(hasXor||result)){return hasXor;}
result=result||constraint;}}}else if($.isPlainObject(constraints)){for(var n in constraints){if(constraints.hasOwnProperty(n)){result=ternary(result,this.checkConstraints(constraints[n],selector,n));if(result===false){return false;}}}}
return result;},checkConstraints:function checkConstraints(value,selector,state){if(typeof state!=='string'||/[0-9]/.test(state[0])){state=null;}else if(typeof selector==='undefined'){selector=state;state=null;}
if(state!==null){state=states.State.sanitize(state);return invert(this.compare(value,selector,state),state.invert);}
return this.verifyConstraints(value,selector);},getDependees:function getDependees(){var cache={};var _compare=this.compare;this.compare=function(reference,selector,state){(cache[selector]||(cache[selector]=[])).push(state.name);};this.verifyConstraints(this.constraints);this.compare=_compare;return cache;}};states.Trigger=function(args){$.extend(this,args);if(this.state in states.Trigger.states){this.element=$(this.selector);if(!this.element.data('trigger:'+this.state)){this.initialize();}}};states.Trigger.prototype={initialize:function initialize(){var _this3=this;var trigger=states.Trigger.states[this.state];if(typeof trigger==='function'){trigger.call(window,this.element);}else{Object.keys(trigger||{}).forEach(function(event){_this3.defaultTrigger(event,trigger[event]);});}
this.element.data('trigger:'+this.state,true);},defaultTrigger:function defaultTrigger(event,valueFn){var oldValue=valueFn.call(this.element);this.element.on(event,$.proxy(function(e){var value=valueFn.call(this.element,e);if(oldValue!==value){this.element.trigger({type:'state:'+this.state,value:value,oldValue:oldValue});oldValue=value;}},this));states.postponed.push($.proxy(function(){this.element.trigger({type:'state:'+this.state,value:oldValue,oldValue:null});},this));}};states.Trigger.states={empty:{keyup:function keyup(){return this.val()==='';}},checked:{change:function change(){var checked=false;this.each(function(){checked=$(this).prop('checked');return!checked;});return checked;}},value:{keyup:function keyup(){if(this.length>1){return this.filter(':checked').val()||false;}
return this.val();},change:function change(){if(this.length>1){return this.filter(':checked').val()||false;}
return this.val();}},collapsed:{collapsed:function collapsed(e){return typeof e!=='undefined'&&'value'in e?e.value:!this.is('[open]');}}};states.State=function(state){this.pristine=state;this.name=state;var process=true;do{while(this.name.charAt(0)==='!'){this.name=this.name.substring(1);this.invert=!this.invert;}
if(this.name in states.State.aliases){this.name=states.State.aliases[this.name];}else{process=false;}}while(process);};states.State.sanitize=function(state){if(state instanceof states.State){return state;}
return new states.State(state);};states.State.aliases={enabled:'!disabled',invisible:'!visible',invalid:'!valid',untouched:'!touched',optional:'!required',filled:'!empty',unchecked:'!checked',irrelevant:'!relevant',expanded:'!collapsed',open:'!collapsed',closed:'collapsed',readwrite:'!readonly'};states.State.prototype={invert:false,toString:function toString(){return this.name;}};var $document=$(document);$document.on('state:disabled',function(e){if(e.trigger){$(e.target).prop('disabled',e.value).closest('.js-form-item, .js-form-submit, .js-form-wrapper').toggleClass('form-disabled',e.value).find('select, input, textarea').prop('disabled',e.value);}});$document.on('state:required',function(e){if(e.trigger){if(e.value){var label='label'+(e.target.id?'[for='+e.target.id+']':'');var $label=$(e.target).attr({required:'required','aria-required':'true'}).closest('.js-form-item, .js-form-wrapper').find(label);if(!$label.hasClass('js-form-required').length){$label.addClass('js-form-required form-required');}}else{$(e.target).removeAttr('required aria-required').closest('.js-form-item, .js-form-wrapper').find('label.js-form-required').removeClass('js-form-required form-required');}}});$document.on('state:visible',function(e){if(e.trigger){$(e.target).closest('.js-form-item, .js-form-submit, .js-form-wrapper').toggle(e.value);}});$document.on('state:checked',function(e){if(e.trigger){$(e.target).prop('checked',e.value);}});$document.on('state:collapsed',function(e){if(e.trigger){if($(e.target).is('[open]')===e.value){$(e.target).find('> summary').trigger('click');}}});})(jQuery,Drupal);;(function($){$(document).unbind('state:disabled');$(document).bind('state:disabled',function(e){if(e.trigger){$(e.target).attr('disabled',e.value).closest('.form-item, .form-submit, .form-wrapper').toggleClass('form-disabled',e.value).find(':input').attr('disabled',e.value);}});})(jQuery);;(function($,Drupal){'use strict';Drupal.webform=Drupal.webform||{};Drupal.webform.states=Drupal.webform.states||{};Drupal.webform.states.slideDown=Drupal.webform.states.slideDown||{};Drupal.webform.states.slideDown.duration='slow';Drupal.webform.states.slideUp=Drupal.webform.states.slideUp||{};Drupal.webform.states.slideUp.duration='fast';$.fn.hasData=function(data){return(typeof this.data(data)!=='undefined');};$.fn.isWebform=function(){return $(this).closest('form[id^="webform"]').length?true:false;};Drupal.states.Trigger.states.empty.change=function change(){return this.val()==='';};var states=Drupal.states;Drupal.states.Dependent.prototype.compare=function compare(reference,selector,state){var value=this.values[selector][state.name];var name=reference.constructor.name;if(!name){name=$.type(reference);name=name.charAt(0).toUpperCase()+name.slice(1);}
if(name in states.Dependent.comparisons){return states.Dependent.comparisons[name](reference,value);}
if(reference.constructor.name in states.Dependent.comparisons){return states.Dependent.comparisons[reference.constructor.name](reference,value);}
return _compare2(reference,value);};function _compare2(a,b){if(a===b){return typeof a==='undefined'?a:true;}
return typeof a==='undefined'||typeof b==='undefined';}
Drupal.states.Dependent.comparisons.Object=function(reference,value){if('pattern'in reference){return(new RegExp(reference['pattern'])).test(value);}
else if('!pattern'in reference){return!((new RegExp(reference['!pattern'])).test(value));}
else if('less'in reference){return(value!==''&&parseFloat(reference['less'])>parseFloat(value));}
else if('greater'in reference){return(value!==''&&parseFloat(reference['greater'])<parseFloat(value));}
else{return reference.indexOf(value)!==false;}};var $document=$(document);$document.on('state:required',function(e){if(e.trigger&&$(e.target).isWebform()){var $target=$(e.target);if(e.value){$target.find('input[type="file"]').attr({'required':'required','aria-required':'true'});}
else{$target.find('input[type="file"]').removeAttr('required aria-required');}
if($target.is('.js-webform-type-radios, .js-webform-type-checkboxes, fieldset')){if(e.value){$target.find('legend span.fieldset-legend:not(.visually-hidden)').addClass('js-form-required form-required');}
else{$target.find('legend span.fieldset-legend:not(.visually-hidden)').removeClass('js-form-required form-required');}}
if($target.is('.js-webform-type-radios, .js-form-type-webform-radios-other')){if(e.value){$target.find('input[type="radio"]').attr({'required':'required','aria-required':'true'});}
else{$target.find('input[type="radio"]').removeAttr('required aria-required');}}
if($target.is('.js-webform-type-checkboxes, .js-form-type-webform-checkboxes-other')){var $checkboxes=$target.find('input[type="checkbox"]');if(e.value){$checkboxes.bind('click',checkboxRequiredhandler);if(!$checkboxes.is(':checked')){$checkboxes.attr({'required':'required','aria-required':'true'});}}
else{$checkboxes.removeAttr('required aria-required').unbind('click',checkboxRequiredhandler);}}
if($target.is('fieldset')){$target.removeAttr('required aria-required');}}});$document.on('state:readonly',function(e){if(e.trigger&&$(e.target).isWebform()){$(e.target).prop('readonly',e.value).closest('.js-form-item, .js-form-wrapper').toggleClass('webform-readonly',e.value).find('input, textarea').prop('readonly',e.value);}});$document.on('state:visible state:visible-slide',function(e){if(e.trigger&&$(e.target).isWebform()){if(e.value){$(':input',e.target).addBack().each(function(){restoreValueAndRequired(this);triggerEventHandlers(this);});}
else{$(':input',e.target).addBack().each(function(){backupValueAndRequired(this);clearValueAndRequired(this);triggerEventHandlers(this);});}}});$document.bind('state:visible-slide',function(e){if(e.trigger&&$(e.target).isWebform()){var effect=e.value?'slideDown':'slideUp';var duration=Drupal.webform.states[effect].duration;$(e.target).closest('.js-form-item, .js-form-submit, .js-form-wrapper')[effect](duration);}});Drupal.states.State.aliases['invisible-slide']='!visible-slide';$document.on('state:disabled',function(e){if(e.trigger&&$(e.target).isWebform()){$(e.target).prop('disabled',e.value).closest('.js-form-item, .js-form-submit, .js-form-wrapper').toggleClass('form-disabled',e.value).find('select, input, textarea, button').prop('disabled',e.value);$(e.target).trigger('webform:disabled').find('select, input, textarea, button').trigger('webform:disabled');}});function checkboxRequiredhandler(){var $checkboxes=$(this).closest('.js-webform-type-checkboxes, .js-form-type-webform-checkboxes-other').find('input[type="checkbox"]');if($checkboxes.is(':checked')){$checkboxes.removeAttr('required aria-required');}
else{$checkboxes.attr({'required':'required','aria-required':'true'});}}
function triggerEventHandlers(input){var $input=$(input);var type=input.type;var tag=input.tagName.toLowerCase();var extraParameters=['webform.states'];if(type==='checkbox'||type==='radio'){$input.trigger('change',extraParameters).trigger('blur',extraParameters);}
else if(tag==='select'){$input.trigger('change',extraParameters).trigger('blur',extraParameters);}
else if(type!=='submit'&&type!=='button'&&type!=='file'){$input.trigger('input',extraParameters).trigger('change',extraParameters).trigger('keydown',extraParameters).trigger('keyup',extraParameters).trigger('blur',extraParameters);}}
function backupValueAndRequired(input){var $input=$(input);var type=input.type;var tag=input.tagName.toLowerCase();if($input.prop('required')&&!$input.hasData('webform-required')){$input.data('webform-required',true);}
if(!$input.hasData('webform-value')){if(type==='checkbox'||type==='radio'){$input.data('webform-value',$input.prop('checked'));}
else if(tag==='select'){var values=[];$input.find('option:selected').each(function(i,option){values[i]=option.value;});$input.data('webform-value',values);}
else if(type!=='submit'&&type!=='button'){$input.data('webform-value',input.value);}}}
function restoreValueAndRequired(input){var $input=$(input);var value=$input.data('webform-value');if(typeof value!=='undefined'){var type=input.type;var tag=input.tagName.toLowerCase();if(type==='checkbox'||type==='radio'){$input.prop('checked',value);}
else if(tag==='select'){$.each(value,function(i,option_value){$input.find("option[value='"+option_value+"']").prop('selected',true);});}
else if(type!=='submit'&&type!=='button'){input.value=value;}
$input.removeData('webform-value');}
var required=$input.data('webform-required');if(typeof required!=='undefined'){if(required){$input.prop('required',true);}
$input.removeData('webform-required');}}
function clearValueAndRequired(input){var $input=$(input);if($input.closest('[data-webform-states-no-clear]').length){return;}
var type=input.type;var tag=input.tagName.toLowerCase();if(type==='checkbox'||type==='radio'){$input.prop('checked',false);}
else if(tag==='select'){if($input.find('option[value=""]').length){$input.val('');}
else{input.selectedIndex=-1;}}
else if(type!=='submit'&&type!=='button'){input.value=(type==='color')?'#000000':'';}
$input.prop('required',false);}})(jQuery,Drupal);;(function($,Drupal){'use strict';$(document).on('state:required',function(e){if(e.trigger&&$(e.target).isWebform()){var $target=$(e.target);if($target.is('.js-form-wrapper.panel')){if(e.value){$target.find('.panel-heading .panel-title').addClass('js-form-required form-required');}
else{$target.find('.panel-heading .panel-title').removeClass('js-form-required form-required');}}}});})(jQuery,Drupal);;var Drupal=Drupal||{};(function($,Drupal,Bootstrap){"use strict";var $document=$(document);Bootstrap.extendPlugin('popover',function(settings){return{DEFAULTS:{animation:!!settings.popover_animation,autoClose:!!settings.popover_auto_close,enabled:settings.popover_enabled,html:!!settings.popover_html,placement:settings.popover_placement,selector:settings.popover_selector,trigger:settings.popover_trigger,title:settings.popover_title,content:settings.popover_content,delay:parseInt(settings.popover_delay,10),container:settings.popover_container}};});Drupal.behaviors.bootstrapPopovers={$activePopover:null,attach:function(context){if(!$.fn.popover||!$.fn.popover.Constructor.DEFAULTS.enabled){return;}
var _this=this;$document.on('show.bs.popover','[data-toggle=popover]',function(){var $trigger=$(this);var popover=$trigger.data('bs.popover');if(popover.options.originalTrigger==='click'){if(_this.$activePopover&&_this.getOption('autoClose')&&!_this.$activePopover.is($trigger)){_this.$activePopover.popover('hide');}
_this.$activePopover=$trigger;}}).on('focus.bs.popover',':visible',function(e){var $target=$(e.target);if(_this.$activePopover&&_this.getOption('autoClose')&&!_this.$activePopover.is($target)&&!$target.closest('.popover.in')[0]){_this.$activePopover.popover('hide');_this.$activePopover=null;}}).on('click.bs.popover',function(e){var $target=$(e.target);if(_this.$activePopover&&_this.getOption('autoClose')&&!$target.is('[data-toggle=popover]')&&!$target.closest('.popover.in')[0]){_this.$activePopover.popover('hide');_this.$activePopover=null;}}).on('keyup.bs.popover',function(e){if(_this.$activePopover&&_this.getOption('autoClose')&&e.which===27){_this.$activePopover.popover('hide');_this.$activePopover=null;}});var elements=$(context).find('[data-toggle=popover]').toArray();for(var i=0;i<elements.length;i++){var $element=$(elements[i]);var options=$.extend({},$.fn.popover.Constructor.DEFAULTS,$element.data());options.originalTrigger=options.trigger;if(options.trigger==='click'){options.trigger='manual';}
var target=options.target||$element.is('a[href^="#"]')&&$element.attr('href');var $target=$document.find(target).clone();if(!options.content&&$target[0]){$target.removeClass('visually-hidden hidden').removeAttr('aria-hidden');options.content=$target.wrap('<div/>').parent()[options.html?'html':'text']()||'';}
$element.popover(options);if(options.originalTrigger==='click'){$element.off('click.drupal.bootstrap.popover').on('click.drupal.bootstrap.popover',function(e){$(this).popover('toggle');e.preventDefault();e.stopPropagation();});}}},detach:function(context){if(!$.fn.popover||!$.fn.popover.Constructor.DEFAULTS.enabled){return;}
$(context).find('[data-toggle="popover"]').off('click.drupal.bootstrap.popover').popover('destroy');},getOption:function(name,defaultValue,element){var $element=element?$(element):this.$activePopover;var options=$.extend(true,{},$.fn.popover.Constructor.DEFAULTS,($element&&$element.data('bs.popover')||{}).options);if(options[name]!==void 0){return options[name];}
return defaultValue!==void 0?defaultValue:void 0;}};})(window.jQuery,window.Drupal,window.Drupal.bootstrap);;var Drupal=Drupal||{};(function($,Drupal,Bootstrap){"use strict";Bootstrap.extendPlugin('tooltip',function(settings){return{DEFAULTS:{animation:!!settings.tooltip_animation,html:!!settings.tooltip_html,placement:settings.tooltip_placement,selector:settings.tooltip_selector,trigger:settings.tooltip_trigger,delay:parseInt(settings.tooltip_delay,10),container:settings.tooltip_container}};});Drupal.behaviors.bootstrapTooltips={attach:function(context){var elements=$(context).find('[data-toggle="tooltip"]').toArray();for(var i=0;i<elements.length;i++){var $element=$(elements[i]);var options=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,$element.data());$element.tooltip(options);}},detach:function(context){$(context).find('[data-toggle="tooltip"]').tooltip('destroy');}};})(window.jQuery,window.Drupal,window.Drupal.bootstrap);;jQuery(function($){$(document).ready(function(){if($('.restrict_township').length){var restricted_township=$('.restrict_township').text();parsedRT=restricted_township.split(',');$('#edit-field-township option').each(function(){$(this).text($(this).text().replace('-',' '));if(jQuery.inArray($(this).val(),parsedRT)!='-1'){}else{$(this).hide();}});}});});;(function(d,f){"use strict";var h=function(d){if("object"!==typeof d.document)throw Error("Cookies.js requires a `window` with a `document` object");var b=function(a,e,c){return 1===arguments.length?b.get(a):b.set(a,e,c)};b._document=d.document;b._cacheKeyPrefix="cookey.";b._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC");b.defaults={path:"/",secure:!1};b.get=function(a){b._cachedDocumentCookie!==b._document.cookie&&b._renewCache();a=b._cache[b._cacheKeyPrefix+a];return a===f?f:decodeURIComponent(a)};b.set=function(a,e,c){c=b._getExtendedOptions(c);c.expires=b._getExpiresDate(e===f?-1:c.expires);b._document.cookie=b._generateCookieString(a,e,c);return b};b.expire=function(a,e){return b.set(a,f,e)};b._getExtendedOptions=function(a){return{path:a&&a.path||b.defaults.path,domain:a&&a.domain||b.defaults.domain,expires:a&&a.expires||b.defaults.expires,secure:a&&a.secure!==f?a.secure:b.defaults.secure}};b._isValidDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())};b._getExpiresDate=function(a,e){e=e||new Date;"number"===typeof a?a=Infinity===a?b._maxExpireDate:new Date(e.getTime()+1E3*a):"string"===typeof a&&(a=new Date(a));if(a&&!b._isValidDate(a))throw Error("`expires` parameter cannot be converted to a valid Date instance");return a};b._generateCookieString=function(a,b,c){a=a.replace(/[^#$&+\^`|]/g,encodeURIComponent);a=a.replace(/\(/g,"%28").replace(/\)/g,"%29");b=(b+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent);c=c||{};a=a+"="+b+(c.path?";path="+
c.path:"");a+=c.domain?";domain="+c.domain:"";a+=c.expires?";expires="+c.expires.toUTCString():"";return a+=c.secure?";secure":""};b._getCacheFromString=function(a){var e={};a=a?a.split("; "):[];for(var c=0;c<a.length;c++){var d=b._getKeyValuePairFromCookieString(a[c]);e[b._cacheKeyPrefix+d.key]===f&&(e[b._cacheKeyPrefix+d.key]=d.value)}return e};b._getKeyValuePairFromCookieString=function(a){var b=a.indexOf("="),b=0>b?a.length:b,c=a.substr(0,b),d;try{d=decodeURIComponent(c)}catch(k){console&&"function"===typeof console.error&&console.error('Could not decode cookie with key "'+c+'"',k)}return{key:d,value:a.substr(b+1)}};b._renewCache=function(){b._cache=b._getCacheFromString(b._document.cookie);b._cachedDocumentCookie=b._document.cookie};b._areEnabled=function(){var a="1"===b.set("cookies.js",1).get("cookies.js");b.expire("cookies.js");return a};b.enabled=b._areEnabled();return b},g=d&&"object"===typeof d.document?h(d):h;"function"===typeof define&&define.amd?define(function(){return g}):"object"===typeof exports?("object"===typeof module&&"object"===typeof module.exports&&(exports=module.exports=g),exports.Cookies=g):d.Cookies=g})("undefined"===typeof window?this:window);;jQuery(function($){$(document).ready(function(){if($('.compareBtn').length){let compares=['compare1','compare2','compare3','compare4'];for(let i=0;i<compares.length;i++){if(Cookies.get(compares[i])){$('.compare-items').append('<div class="compare-item item-'+Cookies.get(compares[i]+'-id')+'"><img src="'+Cookies.get(compares[i]+'-cover')+'"/><label>'+Cookies.get(compares[i])+'</label><div class="remove-compare-item" data-target-cookie="'+compares[i]+'"><i class="fa fa-times-circle" aria-hidden="true"></i></div></div>');var bnid=Cookies.get(compares[i]+'-id');$('.compareBtn-'+bnid).addClass('hidden');$('.compareBtn-'+bnid).siblings('.addedCompare').removeClass('hidden').attr('data-target-cookie',compares[i]);$('#block-compareformblock').removeClass('hide');$('#compare-counts').text($('.compare-items .compare-item').length);}}
$(document).on("click",".compareBtn",function(){for(let i=0;i<compares.length;i++){if(!Cookies.get(compares[i])){Cookies.set(compares[i],$(this).attr('data-target-title')).set(compares[i]+'-cover',$(this).attr('data-target-cover')).set(compares[i]+'-id',$(this).attr('data-target-id'));$('.compare-items').append('<div class="compare-item item-'+Cookies.get(compares[i]+'-id')+'"><img src="'+Cookies.get(compares[i]+'-cover')+'"/><label>'+Cookies.get(compares[i])+'</label><div class="remove-compare-item" data-target-cookie="'+compares[i]+'"><i class="fa fa-times-circle" aria-hidden="true"></i></div></div>');$(this).addClass('hidden');$(this).siblings('.addedCompare').removeClass('hidden').attr('data-target-cookie',compares[i]);break;}}
if($('.compare-items .compare-item').length==4){$('.compare-items .alert').removeClass('hidden');$('.compare-items-wrapper').slideDown('fast');}
if($('.compare-items .compare-item').length==0){$('#block-compareformblock').addClass('hide');$('.compare-items-wrapper').hide();$('#compare-counts').text($('.compare-items .compare-item').length);}else{$('#block-compareformblock').removeClass('hide');$('#compare-counts').text($('.compare-items .compare-item').length);}});$('#block-compareformblock form .btn').on('click',function(e){e.preventDefault();if(Cookies.get('compare1-id')){cookie1=Cookies.get('compare1-id')}else{cookie1=null};if(Cookies.get('compare2-id')){cookie2=Cookies.get('compare2-id')}else{cookie2=null};if(Cookies.get('compare3-id')){cookie3=Cookies.get('compare3-id')}else{cookie3=null};if(Cookies.get('compare4-id')){cookie4=Cookies.get('compare4-id')}else{cookie4=null};$('.compare-items-input').val(cookie1+'+'+cookie2+'+'+cookie3+'+'+cookie4);$(this).parent('form').submit();});}
$('.compare-items').on('click','.remove-compare-item',function(){var cookieTarget=$(this).attr('data-target-cookie');$('.compareBtn-'+Cookies.get(cookieTarget+'-id')).removeClass('hidden');$('.compareBtn-'+Cookies.get(cookieTarget+'-id')).siblings('.addedCompare').addClass('hidden');Cookies.expire(cookieTarget);Cookies.expire(cookieTarget+'-id');Cookies.expire(cookieTarget+'-cover');$(this).parent().remove();$('.compare-items .alert').addClass('hidden');if($('.compare-items .compare-item').length==0){$('#block-compareformblock').addClass('hide');$('.compare-items-wrapper').hide();}else{$('#block-compareformblock').removeClass('hide');}
$('#compare-counts').text($('.compare-items .compare-item').length);});$(document).on("click",".addedCompare",function(){var cookieTarget=$(this).attr('data-target-cookie');$('.compareBtn-'+Cookies.get(cookieTarget+'-id')).removeClass('hidden');$('.compareBtn-'+Cookies.get(cookieTarget+'-id')).siblings('.addedCompare').addClass('hidden');$('.item-'+Cookies.get(cookieTarget+'-id')).remove();Cookies.expire(cookieTarget);Cookies.expire(cookieTarget+'-id');Cookies.expire(cookieTarget+'-cover');$('.compare-items .alert').addClass('hidden');if($('.compare-items .compare-item').length==0){$('#block-compareformblock').addClass('hide');$('.compare-items-wrapper').hide();}else{$('#block-compareformblock').removeClass('hide');}
$('#compare-counts').text($('.compare-items .compare-item').length);});$('.compare-items-toggle').on('click',function(){$('.compare-items-wrapper').slideToggle('fast');});if($('.comparison-table').length){$('.comparison-table .view-content table tr td').each(function(){if($.trim($(this).html())==''){$(this).addClass('emptyTD');}});$('.comparison-table .view-content table tr').each(function(){if($(this).children('.emptyTD').length==$(this).children('td').length){$(this).remove();}});};if($('#wa').length){$("#wa").clone().appendTo("#navbar .navbar-header");}
if($('#whatsappForm').length){$('#whatsappForm').on('show.bs.modal',function(event){var button=$(event.relatedTarget);var name=button.data('title');var number=button.data('whatsapp');var township=button.data('township');wnToArray=number.split(',');wnNum=wnToArray[Math.floor(Math.random()*wnToArray.length)];var modal=$(this);modal.find('input[name="agent_number"]').val(wnNum);modal.find('input[name="project"]').val(name);modal.find('input[name="township"]').val(township);});$('.whatsappform-modal form .form-submit').on('click',function(){gtag('event',$('.whatsappform-modal form input[name="project"]').val(),{'event_category':'Whatsapp','event_label':$('.whatsappform-modal form input[name="agent_number"]').val()});});};});if($('.removeCompareTable').length){let compares=['compare1','compare2','compare3','compare4'];for(let i=0;i<compares.length;i++){if(Cookies.get(compares[i])){var bnid=Cookies.get(compares[i]+'-id');$('.removeCompare-'+bnid).attr('data-target-cookie',compares[i]);}}
if($('.v-compare .view-content table tr:first-child td').length<4){$('.back-button').removeClass('hidden');}
$('.v-compare .view-content table tr').each(function(){$(this).find('td').each(function(t){$(this).attr('data-td','td-'+ ++t);});});$('.v-compare').on('click','.removeCompareTable',function(){var tdTarget=$(this).parent().attr('data-td');$('td[data-td='+tdTarget+']').remove();var cookieTarget=$(this).attr('data-target-cookie');Cookies.expire(cookieTarget);Cookies.expire(cookieTarget+'-id');Cookies.expire(cookieTarget+'-cover');$('.back-button').removeClass('hidden');});}});(function($,Drupal,drupalSettings){Drupal.behaviors.myModuleScript={attach:function(context,settings){$(document).once('weberAjaxViews').ajaxSuccess(function(event,data){if(drupalSettings&&drupalSettings.views&&drupalSettings.views.ajaxViews){var ajaxViews=drupalSettings.views.ajaxViews;Object.keys(ajaxViews||{}).forEach(function(i){if(ajaxViews[i]['view_name']=='projects'&&ajaxViews[i]['view_display_id']=='page_1'){let compares=['compare1','compare2','compare3','compare4'];for(let i=0;i<compares.length;i++){if(Cookies.get(compares[i])){var bnid=Cookies.get(compares[i]+'-id');$('.compareBtn-'+bnid).addClass('hidden');$('.compareBtn-'+bnid).siblings('.addedCompare').removeClass('hidden').attr('data-target-cookie',compares[i]);$('#block-compareformblock').removeClass('hide');}}}});}});}};})(jQuery,Drupal,drupalSettings);;Drupal.debounce=function(func,wait,immediate){var timeout=void 0;var result=void 0;return function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}
var context=this;var later=function later(){timeout=null;if(!immediate){result=func.apply(context,args);}};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow){result=func.apply(context,args);}
return result;};};;/*!jquery.cookie v1.4.1 | MIT*/!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?a(require("jquery")):a(jQuery)}(function(a){function b(a){return h.raw?a:encodeURIComponent(a)}function c(a){return h.raw?a:decodeURIComponent(a)}function d(a){return b(h.json?JSON.stringify(a):String(a))}function e(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return a=decodeURIComponent(a.replace(g," ")),h.json?JSON.parse(a):a}catch(b){}}function f(b,c){var d=h.raw?b:e(b);return a.isFunction(c)?c(d):d}var g=/\+/g,h=a.cookie=function(e,g,i){if(void 0!==g&&!a.isFunction(g)){if(i=a.extend({},h.defaults,i),"number"==typeof i.expires){var j=i.expires,k=i.expires=new Date;k.setTime(+k+864e5*j)}return document.cookie=[b(e),"=",d(g),i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}for(var l=e?void 0:{},m=document.cookie?document.cookie.split("; "):[],n=0,o=m.length;o>n;n++){var p=m[n].split("="),q=c(p.shift()),r=p.join("=");if(e&&e===q){l=f(r,g);break}e||void 0===(r=f(r))||(l[q]=r)}return l};h.defaults={},a.removeCookie=function(b,c){return void 0===a.cookie(b)?!1:(a.cookie(b,"",a.extend({},c,{expires:-1})),!a.cookie(b))}});;(function($,Drupal,debounce){$.fn.drupalGetSummary=function(){var callback=this.data('summaryCallback');return this[0]&&callback?$.trim(callback(this[0])):'';};$.fn.drupalSetSummary=function(callback){var self=this;if(typeof callback!=='function'){var val=callback;callback=function callback(){return val;};}
return this.data('summaryCallback',callback).off('formUpdated.summary').on('formUpdated.summary',function(){self.trigger('summaryUpdated');}).trigger('summaryUpdated');};Drupal.behaviors.formSingleSubmit={attach:function attach(){function onFormSubmit(e){var $form=$(e.currentTarget);var formValues=$form.serialize();var previousValues=$form.attr('data-drupal-form-submit-last');if(previousValues===formValues){e.preventDefault();}else{$form.attr('data-drupal-form-submit-last',formValues);}}
$('body').once('form-single-submit').on('submit.singleSubmit','form:not([method~="GET"])',onFormSubmit);}};function triggerFormUpdated(element){$(element).trigger('formUpdated');}
function fieldsList(form){var $fieldList=$(form).find('[name]').map(function(index,element){return element.getAttribute('id');});return $.makeArray($fieldList);}
Drupal.behaviors.formUpdated={attach:function attach(context){var $context=$(context);var contextIsForm=$context.is('form');var $forms=(contextIsForm?$context:$context.find('form')).once('form-updated');var formFields=void 0;if($forms.length){$.makeArray($forms).forEach(function(form){var events='change.formUpdated input.formUpdated ';var eventHandler=debounce(function(event){triggerFormUpdated(event.target);},300);formFields=fieldsList(form).join(',');form.setAttribute('data-drupal-form-fields',formFields);$(form).on(events,eventHandler);});}
if(contextIsForm){formFields=fieldsList(context).join(',');var currentFields=$(context).attr('data-drupal-form-fields');if(formFields!==currentFields){triggerFormUpdated(context);}}},detach:function detach(context,settings,trigger){var $context=$(context);var contextIsForm=$context.is('form');if(trigger==='unload'){var $forms=(contextIsForm?$context:$context.find('form')).removeOnce('form-updated');if($forms.length){$.makeArray($forms).forEach(function(form){form.removeAttribute('data-drupal-form-fields');$(form).off('.formUpdated');});}}}};Drupal.behaviors.fillUserInfoFromBrowser={attach:function attach(context,settings){var userInfo=['name','mail','homepage'];var $forms=$('[data-user-info-from-browser]').once('user-info-from-browser');if($forms.length){userInfo.forEach(function(info){var $element=$forms.find('[name='+info+']');var browserData=localStorage.getItem('Drupal.visitor.'+info);var emptyOrDefault=$element.val()===''||$element.attr('data-drupal-default-value')===$element.val();if($element.length&&emptyOrDefault&&browserData){$element.val(browserData);}});}
$forms.on('submit',function(){userInfo.forEach(function(info){var $element=$forms.find('[name='+info+']');if($element.length){localStorage.setItem('Drupal.visitor.'+info,$element.val());}});});}};var handleFragmentLinkClickOrHashChange=function handleFragmentLinkClickOrHashChange(e){var url=void 0;if(e.type==='click'){url=e.currentTarget.location?e.currentTarget.location:e.currentTarget;}else{url=window.location;}
var hash=url.hash.substr(1);if(hash){var $target=$('#'+hash);$('body').trigger('formFragmentLinkClickOrHashChange',[$target]);setTimeout(function(){return $target.trigger('focus');},300);}};var debouncedHandleFragmentLinkClickOrHashChange=debounce(handleFragmentLinkClickOrHashChange,300,true);$(window).on('hashchange.form-fragment',debouncedHandleFragmentLinkClickOrHashChange);$(document).on('click.form-fragment','a[href*="#"]',debouncedHandleFragmentLinkClickOrHashChange);})(jQuery,Drupal,Drupal.debounce);;(function($,window,Drupal,drupalSettings){Drupal.behaviors.bootstrapForm={attach:function(context){if(drupalSettings.bootstrap&&drupalSettings.bootstrap.forms_has_error_value_toggle){var $context=$(context);$context.find('.form-item.has-error:not(.form-type-password.has-feedback)').once('error').each(function(){var $formItem=$(this);var $input=$formItem.find(':input');$input.on('keyup focus blur',function(){if(this.defaultValue!==void 0){$formItem[this.defaultValue!==this.value?'removeClass':'addClass']('has-error');$input[this.defaultValue!==this.value?'removeClass':'addClass']('error');}});});}}};})(jQuery,this,Drupal,drupalSettings);;(function($,Drupal){'use strict';Drupal.behaviors.webformRemoveFormSingleSubmit={attach:function attach(){function onFormSubmit(e){var $form=$(e.currentTarget);$form.removeAttr('data-drupal-form-submit-last');}
$('body').once('webform-single-submit').on('submit.singleSubmit','form.webform-remove-single-submit',onFormSubmit);}};Drupal.behaviors.webformAutofocus={attach:function(context){$(context).find('.webform-submission-form.js-webform-autofocus :input:visible:enabled:first').focus();}};Drupal.behaviors.webformDisableAutoSubmit={attach:function(context){$(context).find('.webform-submission-form.js-webform-disable-autosubmit input').not(':button, :submit, :reset, :image, :file').once('webform-disable-autosubmit').on('keyup keypress',function(e){if(e.which===13){e.preventDefault();return false;}});}};Drupal.behaviors.webformSubmitNoValidate={attach:function(context){$(context).find(':submit.js-webform-novalidate').once('webform-novalidate').attr('formnovalidate','formnovalidate');}};Drupal.behaviors.webformSubmitTrigger={attach:function(context){$('[data-webform-trigger-submit]').once('webform-trigger-submit').on('change',function(){var submit=$(this).attr('data-webform-trigger-submit');$(submit).mousedown();});}};Drupal.behaviors.webformRequiredError={attach:function(context){$(context).find(':input[data-webform-required-error], :input[data-webform-pattern-error]').once('webform-required-error').on('invalid',function(){this.setCustomValidity('');if(this.valid){return;}
if(this.validity.patternMismatch&&$(this).attr('data-webform-pattern-error')){this.setCustomValidity($(this).attr('data-webform-pattern-error'));}
else if(this.validity.valueMissing&&$(this).attr('data-webform-required-error')){this.setCustomValidity($(this).attr('data-webform-required-error'));}}).on('input, change',function(){var name=$(this).attr('name');$(this.form).find(':input[name="'+name+'"]').each(function(){this.setCustomValidity('');});});}};$(document).on('state:required',function(e){$(e.target).filter('[data-webform-required-error]').each(function(){this.setCustomValidity('');});});if(window.imceInput){window.imceInput.processUrlInput=function(i,el){var button=imceInput.createUrlButton(el.id,el.getAttribute('data-imce-type'));el.parentNode.insertAfter(button,el);};}})(jQuery,Drupal);;(function(Drupal,debounce){var liveElement=void 0;var announcements=[];Drupal.behaviors.drupalAnnounce={attach:function attach(context){if(!liveElement){liveElement=document.createElement('div');liveElement.id='drupal-live-announce';liveElement.className='visually-hidden';liveElement.setAttribute('aria-live','polite');liveElement.setAttribute('aria-busy','false');document.body.appendChild(liveElement);}}};function announce(){var text=[];var priority='polite';var announcement=void 0;var il=announcements.length;for(var i=0;i<il;i++){announcement=announcements.pop();text.unshift(announcement.text);if(announcement.priority==='assertive'){priority='assertive';}}
if(text.length){liveElement.innerHTML='';liveElement.setAttribute('aria-busy','true');liveElement.setAttribute('aria-live',priority);liveElement.innerHTML=text.join('\n');liveElement.setAttribute('aria-busy','false');}}
Drupal.announce=function(text,priority){announcements.push({text:text,priority:priority});return debounce(announce,200)();};})(Drupal,Drupal.debounce);;(function($,Drupal){'use strict';Drupal.webform=Drupal.webform||{};Drupal.webform.detailsToggle=Drupal.webform.detailsToggle||{};Drupal.webform.detailsToggle.options=Drupal.webform.detailsToggle.options||{};Drupal.behaviors.webformDetailsToggle={attach:function(context){$('.js-webform-details-toggle',context).once('webform-details-toggle').each(function(){var $form=$(this);var $tabs=$form.find('.webform-tabs');var selector=($tabs.length)?'.webform-tab':'.js-webform-details-toggle';var $details=$form.find('details').filter(function(){var $parents=$(this).parentsUntil(selector);return($parents.find('details').length===0);});if($details.length<2){return;}
var options=$.extend({button:'<button type="button" class="webform-details-toggle-state"></button>'},Drupal.webform.detailsToggle.options);var $toggle=$(options.button).attr('title',Drupal.t('Toggle details widget state.')).on('click',function(e){var open;if(isFormDetailsOpen($form)){$form.find('details').removeAttr('open');open=0;}
else{$form.find('details').attr('open','open');open=1;}
setDetailsToggleLabel($form);if(Drupal.webformDetailsSaveGetName){$form.find('details').each(function(){var name=Drupal.webformDetailsSaveGetName($(this));if(name){localStorage.setItem(name,open);}});}}).wrap('<div class="webform-details-toggle-state-wrapper"></div>').parent();if($tabs.length){$tabs.find('.item-list:first-child').eq(0).before($toggle);}
else{$details.eq(0).before($toggle);}
setDetailsToggleLabel($form);});}};function isFormDetailsOpen($form){return($form.find('details[open]').length===$form.find('details').length);}
function setDetailsToggleLabel($form){var isOpen=isFormDetailsOpen($form);var label=(isOpen)?Drupal.t('Collapse all'):Drupal.t('Expand all');$form.find('.webform-details-toggle-state').html(label);var text=(isOpen)?Drupal.t('All details have been expanded.'):Drupal.t('All details have been collapsed.');Drupal.announce(text);}})(jQuery,Drupal);;(function($,Drupal){'use strict';Drupal.behaviors.webformDetailsSave={attach:function(context){if(!window.localStorage){return;}
$('details > summary',context).once('webform-details-summary-save').click(function(){var $details=$(this).parent();if($details[0].hasAttribute('data-webform-details-nosave')){return;}
var name=Drupal.webformDetailsSaveGetName($details);if(!name){return;}
var open=($details.attr('open')!=='open')?'1':'0';localStorage.setItem(name,open);});$('details',context).once('webform-details-save').each(function(){var $details=$(this);var name=Drupal.webformDetailsSaveGetName($details);if(!name){return;}
var open=localStorage.getItem(name);if(open===null){return;}
if(open==='1'){$details.attr('open','open');}
else{$details.removeAttr('open');}});}};Drupal.webformDetailsSaveGetName=function($details){if(!window.localStorage){return '';}
var webformId=$details.attr('data-webform-element-id');if(webformId){return 'Drupal.webform.'+webformId.replace('--','.');}
var detailsId=$details.attr('id');if(!detailsId){return '';}
var $form=$details.parents('form');if(!$form.length||!$form.attr('id')){return '';}
var formId=$form.attr('id');if(!formId){return '';}
formId=formId.replace(/--.+?$/,'').replace(/-/g,'_');detailsId=detailsId.replace(/--.+?$/,'').replace(/-/g,'_');return 'Drupal.webform.'+formId+'.'+detailsId;};})(jQuery,Drupal);;(function($,Drupal){'use strict';Drupal.behaviors.webformMessageClose={attach:function(context){$(context).find('.js-webform-message--close').once('webform-message--close').each(function(){var $element=$(this);var id=$element.attr('data-message-id');var storage=$element.attr('data-message-storage');var effect=$element.attr('data-message-close-effect')||'hide';switch(effect){case 'slide':effect='slideUp';break;case 'fade':effect='fadeOut';break;}
if(isClosed($element,storage,id)){return;}
if($element.attr('style')!=='display: none;'){$element.show();}
$element.find('.js-webform-message__link').on('click',function(event){$element[effect]();setClosed($element,storage,id);$element.trigger('close');event.preventDefault();});});}};function isClosed($element,storage,id){if(!id||!storage){return false;}
switch(storage){case 'local':if(window.localStorage){return localStorage.getItem('Drupal.webform.message.'+id)||false;}
return false;case 'session':if(window.sessionStorage){return sessionStorage.getItem('Drupal.webform.message.'+id)||false;}
return false;default:return false;}}
function setClosed($element,storage,id){if(!id||!storage){return;}
switch(storage){case 'local':if(window.localStorage){localStorage.setItem('Drupal.webform.message.'+id,true);}
break;case 'session':if(window.sessionStorage){sessionStorage.setItem('Drupal.webform.message.'+id,true);}
break;case 'user':case 'state':case 'custom':$.get($element.find('.js-webform-message__link').attr('href'));return true;}}})(jQuery,Drupal);;(function($,Drupal,drupalSettings){Drupal.behaviors.betterExposedFilters={attach:function(context,settings){$('.bef-tree input[type=checkbox], .bef-checkboxes input[type=checkbox]').change(function(){_bef_highlight(this,context);}).filter(':checked').closest('.form-item',context).addClass('highlight');}};function _bef_highlight(elem,context){$elem=$(elem,context);$elem.attr('checked')?$elem.closest('.form-item',context).addClass('highlight'):$elem.closest('.form-item',context).removeClass('highlight');}})(jQuery,Drupal,drupalSettings);;